<!DOCTYPE html>
<!--[if lt IE 7 ]>
<html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>
<html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>
<html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->
<head>

    <!-- Basic Page Needs -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>Penbom Fluid</title>
    <meta name="robots" content="Valves, flanges, fittings, studnuts, pipes"/>
    <meta name="keywords" content="Valves, flanges, fittings, studnuts, pipes"/>
    <meta name="description" content="Valves, flanges, fittings, studnuts, pipes"/>
    <meta name="author" content="osric xie"/>
    <!-- /Basic Page Nedds -->

    <!-- CSS -->
    
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="css/font-awesome-ie7.min.css">
    <![endif]-->
    <link rel="stylesheet" href="css/style.css">
    <!-- /CSS -->

    <!-- JS -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- /JS -->

    <!-- Favicons -->
    <link rel="shortcut icon" href="img/favicon.ico"/>

    <!-- /Favicons -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <style type="text/css">.table, .table tr, .table td {
        border: none !important;
    }
    </style>
</head>
<body role="document">
<!-- Top -->
<div class="navbar navbar-static-top navbar-inverse bg-333" role="navigation" id="_nav_top">

</div>
<!-- /Top -->
<div class="clearfix"></div>
<!-- Navigation -->
<div class="container navbar" role="navigation">
    <div class="navbar-header col-md-offset-1"><a href="index.html"> <img src="img/logo.png" class="img-responsive">
    </a></div>
    <ul class="nav navbar-nav navbar-right" id="_navbar">

    </ul>
</div>
<!-- /Navigation -->

<hr class="divider">

<!-- Main -->
<div class="container" role="main">
    <ol class="breadcrumb">
        <li><a href="index.html">Home</a></li>
        <li><a href="index.html">Products</a></li>
        <li class="active"></li>
    </ol>
    <div class="row">
        <div class="col-md-4">
            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            </div>
        </div>
        <div class="col-md-8" id="product-brief">
        </div>
    </div>

    <hr class="divider"/>

    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#design-feature" aria-controls="service" role="tab"
                                                  data-toggle="tab">Design Feature</a></li>
        <li role="presentation"><a href="#product-range" aria-controls="pre-sales-support" role="tab" data-toggle="tab">Product
            Range</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content padding-top-2x">
        <div role="tabpanel" class="tab-pane active" id="design-feature">

        </div>
        <div role="tabpanel" class="tab-pane" id="product-range">
        </div>
    </div>
</div>

<!-- /Main -->

<!-- footer -->
<div class="footer" id="_footer">

</div>
<!-- /footer -->

<!-- copyright -->
<div class="container-fluid copyright">
    <p class="text-center">Copyright 2015-2016 &copy; Penbom <a href="http://www.beian.miit.gov.cn" style="color: #fff;">苏ICP备2023018916号</a></p>
</div>
<!-- /copyright -->

<!-- Javascript -->
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/lov.js"></script>
<!-- /Javascript -->

<script type="text/javascript">
    jQuery(document).ready(function () {
        var args = new Object();
        var key;

        args = GetUrlParms();
        // if (args["key"] != undefined )
        key = args["key"];

        jQuery.ajax({
            type: "POST",
            url: "json.php",
            data: {
                "key": key
            },
            success: function (results) {
                var parsedJson = jQuery.parseJSON(results);
                FormatHtml(parsedJson)
            }
        });

    })


    function GetUrlParms() {
        var args = new Object();
        var query = location.search.substring(1); //获取查询串
        var pairs = query.split("&"); //在逗号处断开
        for (var i = 0; i < pairs.length; i++) {
            var pos = pairs[i].indexOf('='); //查找name=value
            if (pos == -1) continue; //如果没有找到就跳过
            var argname = pairs[i].substring(0, pos); //提取name
            var value = pairs[i].substring(pos + 1); //提取value
            args[argname] = unescape(value); //存为属性
        }
        return args;
    }

    function FormatHtml(obj) {
        var carousel_ol = '';
        var carousel_inner = '';
        for (var i = 0; i < obj.img; i++) {
            carousel_ol += ' <li data-target="#carousel-example-generic" data-slide-to=" ' + i;
            carousel_ol += '"></li> '

            carousel_inner += '<div class="item ';
            if (i == 0) {
                carousel_inner += 'active';
            } else {
                carousel_inner += '';
            }
            carousel_inner += '"><img src="' + obj.img_path + i + '.jpg" class="img-responsive img-thumbnail"></div>';
        }

        var carousel = '<!-- Indicators --> '
            + ' <ol class="carousel-indicators"> '
            + carousel_ol
            + ' </ol> '
            + ' <!-- Wrapper for slides --> '
            + ' <div class="carousel-inner" role="listbox"> '
            + carousel_inner
            + ' </div> '
            + ' <!-- Controls -->  '
            + ' <a class="left carousel-control"  '
            + '   href="#carousel-example-generic" role="button" data-slide="prev"> '
            + '   <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> '
            + '   <span class="sr-only">Previous</span> '
            + ' </a> '
            + ' <a class="right carousel-control" '
            + '   href="#carousel-example-generic" role="button" data-slide="next"> '
            + '   <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> '
            + '   <span class="sr-only">Next</span> '
            + ' </a> ';

        var product_range = '<table class="table table-striped"> ';
        if (obj.product_range.type != '')
            product_range += ' <tr><td>Type</td><td>'
                + obj.product_range.type
                + ' </td></tr> ';
        if (obj.product_range.size != '')
            product_range += ' <tr><td>Size</td><td>'
                + obj.product_range.size
                + ' </td></tr> ';
        if (obj.product_range.rating != '')
            product_range += ' <tr><td>Rating</td><td>'
                + obj.product_range.rating
                + ' </td></tr> ';
        if (obj.product_range.end_connection != '')
            product_range += ' <tr><td>End Connection</td><td>'
                + obj.product_range.end_connection
                + ' </td></tr> ';
        if (obj.product_range.design != '')
            product_range += ' <tr><td>Design</td><td>'
                + obj.product_range.design
                + ' </td></tr> ';
        if (obj.product_range.design_standards != '')
            product_range += ' <tr><td>Design Standards</td><td>'
                + obj.product_range.design_standards
                + ' </td></tr> ';
        if (obj.product_range.materials != '')
            product_range += ' <tr><td>Materials</td><td>'
                + obj.product_range.materials
                + ' </td></tr> ';
        if (obj.product_range.special_materials != '')
            product_range += ' <tr><td colspan="2"><b>Special materials also available: '
                + obj.product_range.special_materials
                + ' </b></td></tr> ';
        product_range += ' </table> ';

        jQuery("ol.breadcrumb .active").html(obj.name);
        jQuery("#carousel-example-generic").html(carousel)
        jQuery("#product-brief").html('<p>' + obj.brief + '</p>');
        jQuery("#design-feature").html('<p>' + obj.design_feature + '</p>');
        jQuery("#product-range").html(product_range);
    }

</script>
</body>
</html>
